<ion-content [fullscreen]="true">
    <!-- header -->
    <!-- <shared-header></shared-header> -->
    <form [formGroup]="homeForm" class="form">
        <ion-item>
            <ion-label position="floating">
                Tipo de Incidencia
                <span style="color: red">*</span>
            </ion-label>

            <ion-select formControlName="categoria_id">
                <ion-select-option
                    *ngFor="let categoria of categorias"
                    [value]="categoria.id"
                    >{{ categoria.nombre }}</ion-select-option
                >
            </ion-select>
        </ion-item>
        <ion-text color="danger" *ngIf="isInvalidField('categoria_id')">
            Seleccione una categoría.
        </ion-text>

        <ion-item>
            <ion-label position="floating">
                Dirección
                <span style="color: red">*</span>
            </ion-label>
            <ion-textarea formControlName="direccion"></ion-textarea>
        </ion-item>

        <ion-text color="danger" *ngIf="isInvalidField('direccion')">
            Ingrese la direción del incidente.
        </ion-text>

        <ion-item>
            <ion-label position="floating">
                Descripción
                <span style="color: red">*</span>
            </ion-label>
            <ion-textarea formControlName="descripcion"></ion-textarea>
        </ion-item>
        <ion-text color="danger" *ngIf="isInvalidField('descripcion')">
            Ingrese una descripción.
        </ion-text>

        <ion-item lines="none">
            <ion-button
                style="margin: 0; padding: 0"
                expand="block"
                fill="clear"
                (click)="takePicture()"
            >
                <ion-icon
                    style="font-size: 30px; color: #000"
                    name="image-outline"
                ></ion-icon>
            </ion-button>
        </ion-item>
        <div class="preview-container" *ngIf="previewImage">
            <ion-img [src]="previewImage" class="preview-img"></ion-img>
            <button class="delete-btn" (click)="removePreview()">
                <ion-icon
                    name="close-circle"
                    style="font-size: 24px"
                ></ion-icon>
            </button>
        </div>

        <!--
        <ion-img
            *ngIf="previewImage"
            [src]="previewImage"
            class="preview-img"
        ></ion-img> -->

        <!-- <button>hols</button> -->
        <div class="panic-container">
            <boton-btn-panic
                [isFormValid]="homeForm.valid"
                (onSubmit)="onBotonPanic($event)"
            ></boton-btn-panic>
            <p
                *ngIf="messageShow"
                style="text-align: center; color: #a1a1a1; margin: 0px"
            >
                Para activar mantén presionado
            </p>
        </div>
    </form>
</ion-content>

<!-- <shared-footer></shared-footer> -->
